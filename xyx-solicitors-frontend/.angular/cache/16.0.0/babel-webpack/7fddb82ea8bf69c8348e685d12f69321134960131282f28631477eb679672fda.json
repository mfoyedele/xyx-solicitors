{"ast":null,"code":"import { NgFor, NgIf } from '@angular/common';\nimport { RouterLink } from '@angular/router';\nimport { first } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@app/_services\";\nfunction ListComponent_tr_17_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 12);\n  }\n}\nfunction ListComponent_tr_17_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Delete\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 8)(8, \"a\", 9);\n    i0.ɵɵtext(9, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function ListComponent_tr_17_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const user_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.deleteUser(user_r2.id));\n    });\n    i0.ɵɵtemplate(11, ListComponent_tr_17_span_11_Template, 1, 0, \"span\", 11);\n    i0.ɵɵtemplate(12, ListComponent_tr_17_span_12_Template, 2, 0, \"span\", 7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const user_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r2.firstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r2.lastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r2.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"edit/\", user_r2.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", user_r2.isDeleting);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", user_r2.isDeleting);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !user_r2.isDeleting);\n  }\n}\nfunction ListComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 13);\n    i0.ɵɵelement(2, \"span\", 14);\n    i0.ɵɵelementEnd()();\n  }\n}\nclass ListComponent {\n  constructor(accountService) {\n    this.accountService = accountService;\n  }\n  ngOnInit() {\n    this.accountService.getAll().pipe(first()).subscribe(users => this.users = users);\n  }\n  deleteUser(id) {\n    const user = this.users.find(x => x.id === id);\n    user.isDeleting = true;\n    this.accountService.delete(id).pipe(first()).subscribe(() => this.users = this.users.filter(x => x.id !== id));\n  }\n}\nListComponent.ɵfac = function ListComponent_Factory(t) {\n  return new (t || ListComponent)(i0.ɵɵdirectiveInject(i1.AccountService));\n};\nListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListComponent,\n  selectors: [[\"ng-component\"]],\n  standalone: true,\n  features: [i0.ɵɵStandaloneFeature],\n  decls: 19,\n  vars: 2,\n  consts: [[1, \"p-4\"], [1, \"container\"], [\"routerLink\", \"add\", 1, \"btn\", \"btn-sm\", \"btn-success\", \"mb-2\"], [1, \"table\", \"table-striped\"], [2, \"width\", \"30%\"], [2, \"width\", \"10%\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [2, \"white-space\", \"nowrap\"], [1, \"btn\", \"btn-sm\", \"btn-primary\", \"me-1\", 3, \"routerLink\"], [1, \"btn\", \"btn-sm\", \"btn-danger\", 2, \"width\", \"58px\", 3, \"disabled\", \"click\"], [\"class\", \"spinner-border spinner-border-sm\", 4, \"ngIf\"], [1, \"spinner-border\", \"spinner-border-sm\"], [\"colspan\", \"4\", 1, \"text-center\"], [1, \"spinner-border\", \"spinner-border-lg\", \"align-center\"]],\n  template: function ListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n      i0.ɵɵtext(3, \"Users\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"a\", 2);\n      i0.ɵɵtext(5, \"Add User\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"table\", 3)(7, \"thead\")(8, \"tr\")(9, \"th\", 4);\n      i0.ɵɵtext(10, \"First Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\", 4);\n      i0.ɵɵtext(12, \"Last Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\", 4);\n      i0.ɵɵtext(14, \"Username\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"th\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"tbody\");\n      i0.ɵɵtemplate(17, ListComponent_tr_17_Template, 13, 7, \"tr\", 6);\n      i0.ɵɵtemplate(18, ListComponent_tr_18_Template, 3, 0, \"tr\", 7);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngForOf\", ctx.users);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.users);\n    }\n  },\n  dependencies: [RouterLink, NgFor, NgIf],\n  encapsulation: 2\n});\nexport { ListComponent };","map":{"version":3,"names":["NgFor","NgIf","RouterLink","first","i0","ɵɵelement","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ListComponent_tr_17_Template_button_click_10_listener","restoredCtx","ɵɵrestoreView","_r6","user_r2","$implicit","ctx_r5","ɵɵnextContext","ɵɵresetView","deleteUser","id","ɵɵtemplate","ListComponent_tr_17_span_11_Template","ListComponent_tr_17_span_12_Template","ɵɵadvance","ɵɵtextInterpolate","firstName","lastName","username","ɵɵpropertyInterpolate1","ɵɵproperty","isDeleting","ListComponent","constructor","accountService","ngOnInit","getAll","pipe","subscribe","users","user","find","x","delete","filter","ɵɵdirectiveInject","i1","AccountService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ListComponent_Template","rf","ctx","ListComponent_tr_17_Template","ListComponent_tr_18_Template","encapsulation"],"sources":["/home/devkhalifa/Documents/GitHub/xyx-solicitors-frontend/src/app/users/list.component.ts","/home/devkhalifa/Documents/GitHub/xyx-solicitors-frontend/src/app/users/list.component.html"],"sourcesContent":["\nimport { Component, OnInit } from '@angular/core';\nimport { NgFor, NgIf } from '@angular/common';\nimport { RouterLink } from '@angular/router';\nimport { first } from 'rxjs/operators';\n\nimport { AccountService } from '@app/_services';\n\n@Component({\n    templateUrl: 'list.component.html',\n    standalone: true,\n    imports: [RouterLink, NgFor, NgIf]\n})\nexport class ListComponent implements OnInit {\n    users?: any[];\n\n    constructor(private accountService: AccountService) {}\n\n    ngOnInit() {\n        this.accountService.getAll()\n            .pipe(first())\n            .subscribe(users => this.users = users);\n    }\n\n    deleteUser(id: string) {\n        const user = this.users!.find(x => x.id === id);\n        user.isDeleting = true;\n        this.accountService.delete(id)\n            .pipe(first())\n            .subscribe(() => this.users = this.users!.filter(x => x.id !== id));\n    }\n}","<div class=\"p-4\">\n    <div class=\"container\">\n        <h1>Users</h1>\n        <a routerLink=\"add\" class=\"btn btn-sm btn-success mb-2\">Add User</a>\n        <table class=\"table table-striped\">\n            <thead>\n                <tr>\n                    <th style=\"width: 30%\">First Name</th>\n                    <th style=\"width: 30%\">Last Name</th>\n                    <th style=\"width: 30%\">Username</th>\n                    <th style=\"width: 10%\"></th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr *ngFor=\"let user of users\">\n                    <td>{{user.firstName}}</td>\n                    <td>{{user.lastName}}</td>\n                    <td>{{user.username}}</td>\n                    <td style=\"white-space: nowrap\">\n                        <a routerLink=\"edit/{{user.id}}\" class=\"btn btn-sm btn-primary me-1\">Edit</a>\n                        <button (click)=\"deleteUser(user.id)\" class=\"btn btn-sm btn-danger\" style=\"width: 58px\" [disabled]=\"user.isDeleting\">\n                            <span *ngIf=\"user.isDeleting\" class=\"spinner-border spinner-border-sm\"></span>\n                            <span *ngIf=\"!user.isDeleting\">Delete</span>\n                        </button>\n                    </td>\n                </tr>\n                <tr *ngIf=\"!users\">\n                    <td colspan=\"4\" class=\"text-center\">\n                        <span class=\"spinner-border spinner-border-lg align-center\"></span>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}