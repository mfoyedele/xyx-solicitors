{"ast":null,"code":"import { inject } from '@angular/core';\nimport { throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { AccountService } from '@app/_services';\nexport function errorInterceptor(request, next) {\n  const accountService = inject(AccountService);\n  return next(request).pipe(catchError(err => {\n    if ([401, 403].includes(err.status) && accountService.userValue) {\n      // auto logout if 401 or 403 response returned from api\n      accountService.logout();\n    }\n    const error = err.error?.message || err.statusText;\n    console.error(err);\n    return throwError(() => error);\n  }));\n}","map":{"version":3,"names":["inject","throwError","catchError","AccountService","errorInterceptor","request","next","accountService","pipe","err","includes","status","userValue","logout","error","message","statusText","console"],"sources":["/home/devkhalifa/Documents/GitHub/xyx-solicitors-frontend/src/app/_helpers/error.interceptor.ts"],"sourcesContent":["import { inject } from '@angular/core';\nimport { HttpRequest, HttpHandlerFn } from '@angular/common/http';\nimport { throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\nimport { AccountService } from '@app/_services';\n\nexport function errorInterceptor(request: HttpRequest<any>, next: HttpHandlerFn) {\n    const accountService = inject(AccountService);\n    return next(request).pipe(catchError(err => {\n        if ([401, 403].includes(err.status) && accountService.userValue) {\n            // auto logout if 401 or 403 response returned from api\n            accountService.logout();\n        }\n\n        const error = err.error?.message || err.statusText;\n        console.error(err);\n        return throwError(() => error);\n    }))\n}\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,eAAe;AAEtC,SAASC,UAAU,QAAQ,MAAM;AACjC,SAASC,UAAU,QAAQ,gBAAgB;AAE3C,SAASC,cAAc,QAAQ,gBAAgB;AAE/C,OAAM,SAAUC,gBAAgBA,CAACC,OAAyB,EAAEC,IAAmB;EAC3E,MAAMC,cAAc,GAAGP,MAAM,CAACG,cAAc,CAAC;EAC7C,OAAOG,IAAI,CAACD,OAAO,CAAC,CAACG,IAAI,CAACN,UAAU,CAACO,GAAG,IAAG;IACvC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,CAACC,QAAQ,CAACD,GAAG,CAACE,MAAM,CAAC,IAAIJ,cAAc,CAACK,SAAS,EAAE;MAC7D;MACAL,cAAc,CAACM,MAAM,EAAE;;IAG3B,MAAMC,KAAK,GAAGL,GAAG,CAACK,KAAK,EAAEC,OAAO,IAAIN,GAAG,CAACO,UAAU;IAClDC,OAAO,CAACH,KAAK,CAACL,GAAG,CAAC;IAClB,OAAOR,UAAU,CAAC,MAAMa,KAAK,CAAC;EAClC,CAAC,CAAC,CAAC;AACP"},"metadata":{},"sourceType":"module","externalDependencies":[]}